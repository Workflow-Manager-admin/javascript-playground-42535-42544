{"is_source_file": true, "format": "JavaScript", "description": "This file defines the 'CodeSnippet' class with methods for creating, retrieving, updating, deleting, and listing code snippets in a database, including handling share tokens for public access.", "external_files": ["../services/database"], "external_methods": ["database.query", "uuidv4"], "published": ["CodeSnippet"], "classes": [{"name": "CodeSnippet", "description": "A class providing static methods to manage code snippets in the database, including creation, retrieval by ID or share token, updating, deletion, and fetching public snippets."}], "methods": [{"name": "create(snippetData)", "description": "Creates a new code snippet in the database, generating a share token.", "scope": "CodeSnippet", "scopeKind": "class"}, {"name": "findById(id)", "description": "Retrieves a code snippet by its unique ID, including the username of its owner.", "scope": "CodeSnippet", "scopeKind": "class"}, {"name": "findByShareToken(shareToken)", "description": "Retrieves a code snippet via its share token, including owner info.", "scope": "CodeSnippet", "scopeKind": "class"}, {"name": "findByUserId(userId, limit = 50, offset = 0)", "description": "Lists snippets belonging to a specific user, with pagination support.", "scope": "CodeSnippet", "scopeKind": "class"}, {"name": "update(id, userId, updates)", "description": "Updates fields of a code snippet, verifying ownership.", "scope": "CodeSnippet", "scopeKind": "class"}, {"name": "delete(id, userId)", "description": "Deletes a code snippet, verifying ownership.", "scope": "CodeSnippet", "scopeKind": "class"}, {"name": "getPublicSnippets(limit = 20, offset = 0)", "description": "Retrieves a list of public code snippets with pagination.", "scope": "CodeSnippet", "scopeKind": "class"}], "calls": ["database.query", "uuidv4"], "search-terms": ["CodeSnippet class", "share_token", "public snippets", "create snippet", "update snippet", "delete snippet", "findByShareToken", "findById"], "state": 2, "file_id": 15, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "CodeSnippet", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^class CodeSnippet {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^  static async create(snippetData) {$/", "language": "JavaScript", "kind": "method", "signature": "(snippetData)", "scope": "CodeSnippet", "scopeKind": "class"}, {"_type": "tag", "name": "database", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^const database = require('..\\/services\\/database');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^  static async delete(id, userId) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, userId)", "scope": "CodeSnippet", "scopeKind": "class"}, {"_type": "tag", "name": "findById", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^  static async findById(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "CodeSnippet", "scopeKind": "class"}, {"_type": "tag", "name": "findByShareToken", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^  static async findByShareToken(shareToken) {$/", "language": "JavaScript", "kind": "method", "signature": "(shareToken)", "scope": "CodeSnippet", "scopeKind": "class"}, {"_type": "tag", "name": "findByUserId", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^  static async findByUserId(userId, limit = 50, offset = 0) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, limit = 50, offset = 0)", "scope": "CodeSnippet", "scopeKind": "class"}, {"_type": "tag", "name": "getPublicSnippets", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^  static async getPublicSnippets(limit = 20, offset = 0) {$/", "language": "JavaScript", "kind": "method", "signature": "(limit = 20, offset = 0)", "scope": "CodeSnippet", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/javascript-playground-42535-42544/javascript_playground_backend/src/models/CodeSnippet.js", "pattern": "/^  static async update(id, userId, updates) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, userId, updates)", "scope": "CodeSnippet", "scopeKind": "class"}], "hash": "43e8aea4a41757752e647a67173da104", "format-version": 4, "code-base-name": "javascript_playground_backend", "filename": "javascript_playground_backend/src/models/CodeSnippet.js", "revision_history": [{"31": ""}]}